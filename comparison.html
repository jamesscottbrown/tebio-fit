<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Model Comparison</title>

    <link rel="stylesheet" href="bootstrap/3.3.6/css/bootstrap.css">
    <link rel="stylesheet" href="starter-template.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="bootstrap/3.3.6/js/bootstrap.min.js"></script>


    <link rel="stylesheet" type="text/css" href="site.css">
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="splom.js"></script>
    <script src="stackedbar.js"></script>
    <script src="distancePlot.js"></script>
</head>

<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="">Project name</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li><a href="about.html">About</a></li>
                <li><a href="mailto:james@jamesscottbrown.com">Contact</a></li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</nav>

<div class="container">

    <div class="starter-template">
        <h1>Model Comparison</h1>

        <p class="lead">This page compares several candidate models.</p>

        <div id="models"></div>

        <div id="modelLikelihood"></div>

        <div id="errors"></div>

    </div>

</div><!-- /.container -->


<script>


    var experiment;
    var model;
    var modelName;
    var path;
    var global_data;

    // Function from http://stackoverflow.com/a/979996
    function getUrlVars() {
        var vars = {};
        var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,
                function (m, key, value) {
                    vars[key] = value;
                });
        return vars;
    }

    function getModelDetails(callback) {

        experiment = getUrlVars()["experiment"];
        experiment = experiment ? experiment : "mock1";
        //modelName =  getUrlVars()["model"];
        path = "data/" + experiment + "/";


        d3.json(path + "setup.json", function (d) {
            global_data = d;
            //model = global_data.models.filter( function(x){ return x.model_name == modelName }  )[0];
            callback();
        })

    }
    ;


    function setup_page() {
        width = $("body").width() - 200;
        getModelDetails(fill_placeholders);
    }

    function fill_placeholders() {
        summariseModelTable();
        plotErrors();
    }
    ;

    window.onLoad = setup_page();

</script>

<style>

    .axis path,
    .axis line {
        fill: none;
        stroke: #000;
        shape-rendering: crispEdges;
    }

    .x.axis path {
        display: none;
    }

    .epsilon-points.unselected {
        opacity: 0.25;
    }

</style>

</body>
</html>
